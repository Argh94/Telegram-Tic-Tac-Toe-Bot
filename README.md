# ربات تلگرامی بازی دوز (Tic-Tac-Toe)
![Visitor Count](https://komarev.com/ghpvc/?username=Argh94&repo=Telegram-Tic-Tac-Toe-Bot&label=بازدیدها)

این پروژه یک ربات تلگرامی برای بازی دوز (Tic-Tac-Toe) است که با JavaScript و Webhook پیاده‌سازی شده. این ربات به کاربران اجازه می‌ده بازی تک‌نفره با ربات رو تجربه کنن، اندازه صفحه بازی رو انتخاب کنن و از قابلیت‌هایی مثل لغزش‌زنی (Undo) و مشاهده آمار لذت ببرن.

## ویژگی‌ها
- انتخاب اندازه صفحه بازی (۳×۳، ۴×۴ یا سفارشی بین ۳ تا ۸)
- بازی تک‌نفره علیه ربات هوشمند
- قابلیت لغزش‌زنی (Undo) برای بازگشت حرکت آخر
- نمایش آمار بازی‌ها (بردها، باخت‌ها، تساوی‌ها)
- رابط کاربری ساده با دکمه‌های اینلاین و اموجی‌ها
- پاکسازی خودکار کاربران غیرفعال پس از ۶۰ ثانیه

## پیش‌نیازها
برای راه‌اندازی این ربات، به موارد زیر نیاز دارید:
1. **توکن تلگرام**: از [BotFather](https://t.me/BotFather) در تلگرام توکن ربات رو بگیرین.
2. **محیط میزبانی**: سرویسی مثل [Cloudflare Workers](https://workers.cloudflare.com/) یا هر پلتفرم دیگه‌ای که از Webhook پشتیبانی کنه.
3. **دانش ابتدایی JavaScript**: برای تغییر یا دیباگ کد (اختیاری).

## نحوه کار
1. کاربر با دستور `/start` وارد منوی اصلی می‌شه.
2. از منو، گزینه «شروع بازی تک‌نفره» رو انتخاب می‌کنه.
3. اندازه صفحه بازی (مثلاً ۳×۳ یا سفارشی) رو مشخص می‌کنه.
4. بازی شروع می‌شه: کاربر با علامت ❌ و ربات با ⭕ بازی می‌کنه.
5. کاربر با کلیک روی دکمه‌های صفحه حرکتش رو انجام می‌ده و ربات به‌صورت هوشمند پاسخ می‌ده.
6. در پایان، نتیجه (برد، باخت یا تساوی) نمایش داده می‌شه و کاربر می‌تونه بازی جدید شروع کنه یا آمار رو ببینه.

## راه‌اندازی پروژه
### ۱. دریافت توکن تلگرام
- به [BotFather](https://t.me/BotFather) در تلگرام برین.
- دستور `/newbot` رو وارد کنین و مراحل رو دنبال کنین تا توکن ربات رو بگیرین.
- توکن رو توی متغیر `BOT_TOKEN` توی کد جایگزین کنین.

### ۲. استقرار کد
- اگه از Cloudflare Workers استفاده می‌کنین:
  1. یه حساب توی [Cloudflare Workers](https://workers.cloudflare.com/) بسازین.
  2. یه Worker جدید ایجاد کنین و کد رو اونجا کپی کنین.
  3. تغییرات رو ذخیره و مستقر کنین.
- URL اختصاصی Worker (مثلاً `https://your-worker.workers.dev`) برای Webhook استفاده می‌شه.

### ۳. تنظیم Webhook
- برای فعال کردن Webhook، درخواست زیر رو با توکن و URL خودتون ارسال کنین:https://api.telegram.org/bot<Your-Telegram-Token>/setWebhook?url=<Your-Worker-URL>

مثال:

https://api.telegram.org/bot7753602587:AAHdJ1AlIlwmwQMSNKK-JYkkaA9cpp7VFdg/setWebhook?url=https://your-worker.workers.dev


- - اگه پاسخ `{ "ok": true }` گرفتین، Webhook با موفقیت تنظیم شده.

### ۴. تست ربات
- توی تلگرام به ربات پیام بدین و با `/start` بازی رو تست کنین.

## نکات مهم
- ربات از یه الگوریتم ساده برای حرکت استفاده می‌کنه که اولویتش برد خودش یا جلوگیری از برد کاربره.
- قابلیت لغزش‌زنی فقط وقتی فعاله که حداقل دو حرکت (کاربر و ربات) انجام شده باشه.
- کاربران غیرفعال بعد از ۶۰ ثانیه به‌صورت خودکار حذف می‌شن تا حافظه آزاد بشه.
- برای دیباگ، از `console.log` و `console.error` توی کد استفاده شده که می‌تونین لاگ‌ها رو توی محیط میزبانی ببینین.

## انتشار در گیت‌هاب
1. یه مخزن جدید توی گیت‌هاب بسازین.
2. فایل کد رو با اسم `index.js` آپلود کنین.
3. این متن رو به‌عنوان `README.md` اضافه کنین.
4. مخزن رو عمومی کنین تا بقیه هم بتونن ازش استفاده کنن.

## مشارکت
اگه پیشنهادی برای بهتر شدن ربات دارین، Pull Request بفرستین یا Issue باز کنین!
